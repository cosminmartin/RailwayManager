@page "/cont"
@inject NavigationManager NavigationManager

<PageTitle>Contul meu</PageTitle>

@if (!string.IsNullOrEmpty(mainLayout.GetUserName()))
{
	<h3 class="my-4">Contul meu</h3>

	<p>@mainLayout.GetUserName()</p>

	<button type="button" class="btn btn-danger" @onclick="mainLayout.Logout">Delogare</button>
}
else
{
	<h3 class="my-4">Logați-vă</h3>

	<button type="button" class="btn btn-success" @onclick="mainLayout.OpenLogin">Logare</button>

	<h3 class="my-4">Nu aveți cont?</h3>

	<button type="button" class="btn btn-info" @onclick=@Navigate>Creați un cont nou</button>
}
@code {
	[CascadingParameter]
	public MainLayout mainLayout { get; set; }

	protected override async Task OnInitializedAsync()
	{
		await base.OnInitializedAsync();
	}

	void Navigate()
	{
		NavigationManager.NavigateTo("/cont-nou");
	}
}
